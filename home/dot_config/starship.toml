# ==========================================================================
#  Starship prompt — Nerd Font (MonaspiceNe NF), Catppuccin Mocha
#  Docs: https://starship.rs/config/
# ==========================================================================

palette = "catppuccin_mocha"

# --------------------------------------------------------------------------
# Layout — two-line, powerline arrows, icon-heavy
# --------------------------------------------------------------------------
format = """
[╭─](overlay0)\
$os\
$username\
$hostname\
[](fg:surface2 bg:surface1)\
$directory\
[](fg:surface1 bg:surface0)\
$git_branch\
$git_status\
$git_state\
[](fg:surface0 bg:mantle)\
$docker_context\
$python\
$nodejs\
$rust\
$golang\
$lua\
$java\
$ruby\
$php\
$c\
$aws\
$kubernetes\
[](fg:mantle)\
$fill\
$git_metrics\
$jobs\
$cmd_duration\
$time\
$status\
$line_break\
[╰─](overlay0)\
$character"""

add_newline = true
continuation_prompt = "[  ┊](overlay0) "

[fill]
symbol = "─"
style = "overlay0"

# --------------------------------------------------------------------------
# Character — vi mode with NF icons
# --------------------------------------------------------------------------
[character]
success_symbol = "[](bold green)"
error_symbol = "[](bold red)"
vimcmd_symbol = "[](bold blue)"
vimcmd_replace_one_symbol = "[](bold mauve)"
vimcmd_replace_symbol = "[](bold mauve)"
vimcmd_visual_symbol = "[󰈈](bold yellow)"

# --------------------------------------------------------------------------
# OS — NF distro logos
# --------------------------------------------------------------------------
[os]
disabled = false
format = "[ $symbol](fg:text bg:surface2)"
style = "fg:text bg:surface2"

[os.symbols]
Macos = ""
Linux = ""
Ubuntu = ""
Debian = ""
Fedora = ""
Arch = "󰣇"
Alpine = ""
Amazon = ""
CentOS = ""
Raspbian = ""
Windows = ""
NixOS = ""
Gentoo = ""
openSUSE = ""
Redhat = "󱄛"
Void = ""

# --------------------------------------------------------------------------
# Username & hostname — visible on SSH / root
# --------------------------------------------------------------------------
[username]
show_always = false
format = "[ 󰀄 $user](fg:peach bg:surface2)"
style_user = "fg:peach bg:surface2"
style_root = "fg:red bg:surface2"

[hostname]
ssh_only = true
format = "[  $hostname ](fg:peach bg:surface2)"
style = "fg:peach bg:surface2"
trim_at = "."

# --------------------------------------------------------------------------
# Directory — folder icons + smart substitutions
# --------------------------------------------------------------------------
[directory]
truncation_length = 4
truncation_symbol = "…/"
truncate_to_repo = true
style = "fg:blue bg:surface1"
read_only = " 󰌾"
read_only_style = "fg:red bg:surface1"
home_symbol = " ~"
format = "[ $path]($style)[$read_only]($read_only_style)[ ](bg:surface1)"

[directory.substitutions]
"Documents" = "󰈙 "
"Downloads" = "󰇚 "
"Projects"  = " "
"Desktop"   = "󰇄 "
"Music"     = "󰝚 "
"Pictures"  = "󰋩 "
"Videos"    = "󰕧 "
".config"   = " "
"src"       = " "
"test"      = "󰙨 "
"tests"     = "󰙨 "
"node_modules" = " "

# --------------------------------------------------------------------------
# Git — branch + status icons
# --------------------------------------------------------------------------
[git_branch]
symbol = " "
format = "[ $symbol$branch(:$remote_branch) ](fg:mauve bg:surface0)"
style = "fg:mauve bg:surface0"
truncation_length = 30

[git_status]
format = '([$all_status$ahead_behind ](fg:yellow bg:surface0))'
style = "fg:yellow bg:surface0"
conflicted = "󰞇 "
ahead = "󰜸 ${count}"
behind = "󰜯 ${count}"
diverged = "󰃻 ↑${ahead_count}↓${behind_count}"
untracked = "󰋗 ${count}"
stashed = "󰏗 ${count}"
modified = "󰏫 ${count}"
staged = "󰐕 ${count}"
renamed = "󰑕 ${count}"
deleted = "󰍷 ${count}"

[git_state]
format = '[\($state $progress_current/$progress_total\) ](fg:peach bg:surface0)'
style = "fg:peach bg:surface0"

[git_metrics]
disabled = false
format = "([󰐕 $added](green) )([󰍷 $deleted](red) )"
added_style = "green"
deleted_style = "red"

# --------------------------------------------------------------------------
# Docker
# --------------------------------------------------------------------------
[docker_context]
symbol = "󰡨 "
format = "[$symbol$context ](fg:sky bg:mantle)"
style = "fg:sky bg:mantle"
only_with_files = true
detect_files = ["docker-compose.yml", "docker-compose.yaml", "Dockerfile", "compose.yml", "compose.yaml"]

# --------------------------------------------------------------------------
# Python
# --------------------------------------------------------------------------
[python]
symbol = " "
format = '[$symbol${pyenv_prefix}${version}( \($virtualenv\)) ](fg:yellow bg:mantle)'
style = "fg:yellow bg:mantle"
pyenv_version_name = true
detect_extensions = ["py"]
detect_files = [".python-version", "Pipfile", "pyproject.toml", "requirements.txt", "setup.py", "tox.ini"]

# --------------------------------------------------------------------------
# Node.js
# --------------------------------------------------------------------------
[nodejs]
symbol = "󰎙 "
format = "[$symbol$version ](fg:green bg:mantle)"
style = "fg:green bg:mantle"
detect_extensions = ["js", "mjs", "cjs", "ts"]
detect_files = ["package.json", ".node-version", ".nvmrc"]

# --------------------------------------------------------------------------
# Rust
# --------------------------------------------------------------------------
[rust]
symbol = "󱘗 "
format = "[$symbol$version ](fg:red bg:mantle)"
style = "fg:red bg:mantle"

# --------------------------------------------------------------------------
# Go
# --------------------------------------------------------------------------
[golang]
symbol = "󰟓 "
format = "[$symbol$version ](fg:sky bg:mantle)"
style = "fg:sky bg:mantle"

# --------------------------------------------------------------------------
# Lua
# --------------------------------------------------------------------------
[lua]
symbol = "󰢱 "
format = "[$symbol$version ](fg:blue bg:mantle)"
style = "fg:blue bg:mantle"

# --------------------------------------------------------------------------
# Java
# --------------------------------------------------------------------------
[java]
symbol = " "
format = "[$symbol$version ](fg:red bg:mantle)"
style = "fg:red bg:mantle"

# --------------------------------------------------------------------------
# Ruby
# --------------------------------------------------------------------------
[ruby]
symbol = " "
format = "[$symbol$version ](fg:red bg:mantle)"
style = "fg:red bg:mantle"

# --------------------------------------------------------------------------
# PHP
# --------------------------------------------------------------------------
[php]
symbol = "󰌟 "
format = "[$symbol$version ](fg:lavender bg:mantle)"
style = "fg:lavender bg:mantle"

# --------------------------------------------------------------------------
# C
# --------------------------------------------------------------------------
[c]
symbol = " "
format = "[$symbol$version ](fg:blue bg:mantle)"
style = "fg:blue bg:mantle"

# --------------------------------------------------------------------------
# Kubernetes
# --------------------------------------------------------------------------
[kubernetes]
disabled = false
symbol = "󱃾 "
format = '[$symbol$context( \($namespace\)) ](fg:sapphire bg:mantle)'
style = "fg:sapphire bg:mantle"
detect_files = ["k8s", "kubernetes", "kustomization.yaml"]

# --------------------------------------------------------------------------
# AWS
# --------------------------------------------------------------------------
[aws]
symbol = "󰸏 "
format = '[$symbol$profile( \($region\)) ](fg:peach bg:mantle)'
style = "fg:peach bg:mantle"

[aws.region_aliases]
us-east-1      = "use1"
us-east-2      = "use2"
us-west-1      = "usw1"
us-west-2      = "usw2"
eu-west-1      = "euw1"
eu-central-1   = "euc1"
ap-southeast-1 = "apse1"

# --------------------------------------------------------------------------
# Command duration
# --------------------------------------------------------------------------
[cmd_duration]
min_time = 3_000
format = "[󱎫 $duration](peach) "
style = "peach"
show_notifications = false

# --------------------------------------------------------------------------
# Time — clock on the right
# --------------------------------------------------------------------------
[time]
disabled = false
format = "[󰥔 $time](subtext0) "
style = "subtext0"
time_format = "%H:%M"

# --------------------------------------------------------------------------
# Background jobs
# --------------------------------------------------------------------------
[jobs]
symbol = "󰜎 "
format = "[$symbol$number](sapphire) "
style = "sapphire"
threshold = 1

# --------------------------------------------------------------------------
# Exit status
# --------------------------------------------------------------------------
[status]
disabled = false
format = "[󰚌 $status](red) "
symbol = ""
style = "red"
map_symbol = true

# --------------------------------------------------------------------------
# Disabled
# --------------------------------------------------------------------------
[package]
disabled = true

[terraform]
disabled = true

[vagrant]
disabled = true

[nix_shell]
disabled = true

[memory_usage]
disabled = true

[battery]
disabled = true

# --------------------------------------------------------------------------
# Palette — Catppuccin Mocha (must be last — TOML sections are greedy)
# --------------------------------------------------------------------------
[palettes.catppuccin_mocha]
rosewater = "#f5e0dc"
flamingo  = "#f2cdcd"
pink      = "#f5c2e7"
mauve     = "#cba6f7"
red       = "#f38ba8"
maroon    = "#eba0ac"
peach     = "#fab387"
yellow    = "#f9e2af"
green     = "#a6e3a1"
teal      = "#94e2d5"
sky       = "#89dceb"
sapphire  = "#74c7ec"
blue      = "#89b4fa"
lavender  = "#b4befe"
text      = "#cdd6f4"
subtext1  = "#bac2de"
subtext0  = "#a6adc8"
overlay2  = "#9399b2"
overlay1  = "#7f849c"
overlay0  = "#6c7086"
surface2  = "#585b70"
surface1  = "#45475a"
surface0  = "#313244"
base      = "#1e1e2e"
mantle    = "#181825"
crust     = "#11111b"
